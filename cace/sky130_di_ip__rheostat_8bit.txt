name: sky130_di_ip__rheostat_8bit
description: 8-bit Rheostat
commit: d81373348c3d0e8f79e895bbc937a43d2ab0b46e
PDK: sky130A

authorship {
	designer: diadatp
	company: TODO
	creation_date: March 22, 2024
	license: Apache 2.0
}

paths {
	root: ..
	schematic: xschem
	netlist: netlist
	simulation: ngspice
	plots: plots
	testbench: cace
}

pins {
	name: dvdd
	description: digital supply
	type: power
	direction: inout
	Vmin: 1.71
	Vmax: 1.98

	+
	name: dvss
	description: digital ground
	type: ground
	direction: inout
	Vmin: 0
	Vmax: 0

	+
	name: din7:0
	description: tap code
	type: digital
	direction: input
	Vmin: 1.71
	Vmax: 1.98

	+
	name: avdd
	description: analog supply
	type: power
	direction: inout
	Vmin: 3
	Vmax: 5.5

	+
	name: avss
	description: analog ground
	type: ground
	direction: inout
	Vmin: 0
	Vmax: 0

	+
	name: a
	description: high terminal
	type: signal
	direction: inout
	Vmin: avdd
	Vmax: avss

	+
	name: b
	description: low terminal
	type: signal
	direction: inout
	Vmin: avdd
	Vmax: avss

	+
	name: w
	description: wiper terminal
	type: signal
	direction: inout
	Vmin: avdd
	Vmax: avss
}

default_conditions {
	name: dvdd
	description: digital supply
	display: dvdd
	unit: V
	typical: 1.8

	+
	name: dvss
	description: digital ground
	display: dvss
	unit: V
	typical: 0

	+
	name: din7:0
	description: TODO
	display: din7:0
	unit: 'b
	typical: 01111111

	+
	name: avdd
	description: analog supply
	display: avdd
	unit: V
	typical: 3.3

	+
	name: avss
	description: analog ground
	display: avss
	unit: V
	typical: 0

	+
	name: a
	description: TODO
	display: a
	unit: V
	typical: 3.3

	+
	name: b
	description: TODO
	display: b
	unit: V
	typical: 0

	+
	name: temperature
	description: TODO
	display: TODO
	unit: {degrees}C
	minimum: -40
	typical: 25
	maximum: 85

	+
	name: corner
	description: TODO
	display: TODO
	minimum: ss
	typical: tt
	maximum: ff
}

electrical_parameters {
	name: Icons
	description: Current used during operation excluding resistor ladder.
	display: Power Consumption
	unit: {micro}A
	spec {
		typical: 50
		maximum: 100 fail
	}
	simulate {
		tool: ngspice
		template: tb_op.spice
		format: ascii .data null null null result
	}
	conditions {
		name: dvdd
		typical: 1.8

		+
		name: avdd
		typical: 3.3

		+
		name: din[7:0]
		typical: 01111111
	}

	+
	name: R_AB
	description: end to end resistance between a and b terminals
	display: End to End Resistance
	unit: k{ohms}
	spec {
		minimum: 45 fail
		typical: 50
		maximum: 55 fail
	}
	simulate {
		tool: ngspice
		template: tb_op.spice
		format: ascii .data null null result
	}
	conditions {
		name: dvdd
		typical: 1.8

		+
		name: avdd
		typical: 3.3

		+
		name: din[7:0]
		typical: 01111111

		+
		name: temperature
		typical: 25
	}

	+
	name: FS_ERR
	description: full scale error
	display: FS_ERR
	unit: LSB
	spec {
		minimum: -4 fail
		typical: -1
	}
	simulate {
		tool: ngspice
		template: tb_op.spice
		format: ascii .data null result
	}
	measure {
		tool: python
		filename: fs_err.py
	}
	conditions {
		name: dvdd
		typical: 1.8

		+
		name: avdd
		typical: 3.3

		+
		name: din[7:0]
		typical: 11111111

		+
		name: temperature
		typical: 25

		+
		name: corner
		typical: tt
	}

	+
	name: ZS_ERR
	description: zero scale error
	display: ZS_ERR
	unit: LSB
	spec {
		typical: 1
		maximum: 4 fail
	}
	simulate {
		tool: ngspice
		template: tb_op.spice
		format: ascii .data null result
	}
	measure {
		tool: python
		filename: zs_err.py
	}
	conditions {
		name: dvdd
		typical: 1.8

		+
		name: avdd
		typical: 3.3

		+
		name: din[7:0]
		typical: 00000000

		+
		name: temperature
		typical: 25

		+
		name: corner
		typical: tt
	}

	+
	name: INL
	description: integral nonlinearity
	display: INL
	unit: LSB
	spec {
		minimum: -1 fail
		typical: 0.5
		maximum: 1 fail
	}
	simulate {
		tool: ngspice
		template: tb_op.spice
		format: ascii .data null result
		collate: din[7:0]
	}
	measure {
		tool: python
		filename: inl.py
	}
	conditions {
		name: dvdd
		typical: 1.8

		+
		name: avdd
		typical: 3.3

		+
		name: din[7:0]
		step: linear
		stepsize: 64
		minimum: 00000000
		maximum: 11111111

		+
		name: temperature
		typical: 25

		+
		name: corner
		typical: tt
	}

	+
	name: DNL
	description: differential nonlinearity
	display: DNL
	unit: LSB
	spec {
		minimum: -1 fail
		typical: 0.5
		maximum: 1 fail
	}
	simulate {
		tool: ngspice
		template: tb_op.spice
		format: ascii .data null result
		collate: din[7:0]
	}
	measure {
		tool: python
		filename: dnl.py
	}
	conditions {
		name: dvdd
		typical: 1.8

		+
		name: avdd
		typical: 3.3

		+
		name: din[7:0]
		step: linear
		stepsize: 64
		minimum: 00000000
		maximum: 11111111

		+
		name: temperature
		typical: 25

		+
		name: corner
		typical: tt
	}
}

physical_parameters {
	name: cace_area
	status: skip
	+
	name: cace_drc
	status: skip
	+
	name: cace_lvs
	status: skip
}
